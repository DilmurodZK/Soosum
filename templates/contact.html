{% extends 'base.html' %}
{% load static %}
{% block content %}
		<div class="main">
			<main class="content">
				<div class="container-fluid p-0">

					<h1 class="h3 mb-3">Contact</h1>

					<div class="row">
						<div class="col-12">
							<div class="card">
								<div class="card-header"></div>
								<div class="card-body">
									<div class="row">
										<div class="col-5">
											{% if contact %}
											<form action="{% url 'update-contact-url' contact.id %}" method="post">
												{% csrf_token %}
												<div class="input-group mb-3">
													<span class="input-group-text">Website</span>
													<input name="website" type="url" class="form-control" value="{{ contact.website }}" required>
												</div>
												<div class="input-group mb-3">
													<span class="input-group-text">Phone</span>
													<input name="phone" type="tel" class="form-control" value="{{ contact.phone }}" required>
												</div>
												<div class="input-group mb-3">
													<span class="input-group-text">Email</span>
													<input name="email" type="email" class="form-control" value="{{ contact.email }}" required>
												</div>
												<div class="input-group mb-3">
													<span class="input-group-text">Address</span>
													<input name="address" type="text" class="form-control" value="{{ contact.address }}" required>
												</div>
												<div class="input-group mb-3">
													<span class="input-group-text">Longitude</span>
													<input name="long" type="text" class="form-control" value="{{ contact.long }}" required>
												</div>
												<div class="input-group mb-3">
													<span class="input-group-text">Latitude</span>
													<input name="lat" type="text" class="form-control" value="{{ contact.lat }}" required>
												</div>
												<input type="hidden" name="contact_id" value="{{ contact.id }}">
												<button type="button" class="btn btn-primary float-left" data-bs-toggle="modal" data-bs-target="#centeredModalPrimary">Change</button>
												<div class="modal fade" id="centeredModalPrimary"  tabindex="-1" aria-hidden="true" style="display: none;">
													<div class="modal-dialog modal-dialog-centered" style="width:300px" role="document">
														<div class="modal-content">
															<div class="modal-header">
																<h5 class="modal-title">Are you sure?</h5>
															</div>
															<div class="modal-footer">
																<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
																<button type="submit" class="btn btn-primary">Save changes</button>
															</div>
														</div>
													</div>
												</div>
											</form>
											<form action="{% url 'delete-contact-url' contact.id %}">
												<button type="button" class="btn btn-danger ml-1" data-bs-toggle="modal" data-bs-target="#deletecontactMD">Delete</button>
												<div class="modal fade" id="deletecontactMD"  tabindex="-1" aria-hidden="true" style="display: none;">
													<div class="modal-dialog modal-dialog-centered" style="width:300px" role="document">
														<div class="modal-content">
															<div class="modal-header">
																<h5 class="modal-title">Are you sure?</h5>
															</div>
															<div class="modal-footer">
																<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
																<button type="submit" class="btn btn-danger">Delete</button>
															</div>
														</div>
													</div>
												</div>
											</form>
											{% else %}
											<form action="{% url 'create-contact-url' %}" method="post">
												{% csrf_token %}
												<div class="input-group mb-3">
													<span class="input-group-text">Website</span>
													<input name="website" type="url" class="form-control" placeholder="website" required>
												</div>
												<div class="input-group mb-3">
													<span class="input-group-text">Phone</span>
													<input name="phone" type="tel" class="form-control" placeholder="+998" required>
												</div>
												<div class="input-group mb-3">
													<span class="input-group-text">Email</span>
													<input name="email" type="email" class="form-control" placeholder="email address" required>
												</div>
												<div class="input-group mb-3">
													<span class="input-group-text">Address</span>
													<input name="address" type="text" class="form-control" placeholder="address" required>
												</div>
												<div class="input-group mb-3">
													<span class="input-group-text">Longitude</span>
													<input name="long" type="" class="form-control" placeholder="00.1234567" required>
												</div>
												<div class="input-group mb-3">
													<span class="input-group-text">Latitude</span>
													<input name="lat" type="text" class="form-control" placeholder="00.123456" required>
												</div>
												<button type="submit" class="btn btn-primary my-1" >Create</button>
											</form>
											{% endif %}
										</div>
										<div class="col-7">
											<iframe src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d2137.344846734699!2d{{ contact.long }}!3d{{ contact.lat }}!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sru!2s!4v1674564384011!5m2!1sru!2s" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>

				</div>
			</main>
		</div>
{% endblock content %}
